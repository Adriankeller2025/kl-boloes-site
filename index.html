<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üéØ Inscri√ß√£o Bol√£o Lotof√°cil - K.L Bol√µes</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #4b0082, #6a0dad);
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .container {
      background-color: #310b5e;
      padding: 30px;
      border-radius: 25px;
      box-shadow: 0 10px 30px rgba(150, 50, 250, 0.7);
      max-width: 480px;
      width: 100%;
      text-align: center;
      border: 3px solid #9b30ff;
    }

    h1 {
      margin-bottom: 20px;
      font-weight: 800;
      font-size: 2.4rem;
      color: #dcd0ff;
      text-shadow: 0 0 15px #bb88ffcc;
    }

    label {
      display: block;
      margin: 15px 0 5px;
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
    }

    input[type="text"] {
      width: 100%;
      padding: 12px 15px;
      border-radius: 10px;
      border: none;
      background-color: #3a1f6f;
      color: #f0e8ff;
      font-size: 1.1rem;
      box-shadow: inset 0 0 8px #bb88ff99;
    }

    .radio-group label {
      margin: 10px 0;
      font-weight: 600;
      font-size: 1.05rem;
      cursor: pointer;
      color: #d1b3ff;
      user-select: none;
      display: flex;
      align-items: center;
    }

    .radio-group input {
      margin-right: 15px;
      transform: scale(1.3);
    }

    button {
      margin-top: 30px;
      background: linear-gradient(90deg, #9b30ff, #bb88ff);
      padding: 15px;
      border-radius: 15px;
      width: 100%;
      font-weight: 800;
      font-size: 1.3rem;
      border: none;
      color: #310b5e;
      cursor: pointer;
      transition: 0.3s;
      text-transform: uppercase;
      box-shadow: 0 0 20px #bb88ffcc;
    }

    button:hover {
      box-shadow: 0 0 30px #9b30ffff;
      color: white;
      transform: scale(1.05);
    }

    #mensagem {
      margin-top: 20px;
      background-color: #34a853;
      color: white;
      font-weight: 700;
      font-size: 1.2rem;
      border-radius: 15px;
      padding: 15px;
      display: none;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>üéØ K.L Bol√µes Lotof√°cil</h1>
    <form id="formulario" action="https://script.google.com/macros/s/AKfycbwslCZCUnyBN45XmJF1nTmnb635p5D771PVnTj_nrbObb0eG1zIYWs1xnuFtx-GdyVduw/exec" method="POST">
      <label for="nome">Seu nome:</label>
      <input type="text" name="participante" id="nome" autocomplete="off" required />

      <p>Escolha a quantidade de cotas:</p>
      <div class="radio-group">
        <label><input type="radio" name="cotas" value="MEIA" /> Meia cota (R$22,00) - m√°ximo 1</label>
        <label><input type="radio" name="cotas" value="1" /> 1 cota inteira (R$44,00)</label>
        <label><input type="radio" name="cotas" value="2" /> 2 cotas inteiras (R$88,00)</label>
        <label><input type="radio" name="cotas" value="3" /> 3 cotas inteiras (R$132,00)</label>
      </div>

      <input type="hidden" name="horario" id="horario" />

      <button type="submit">‚úÖ Confirmar inscri√ß√£o</button>
    </form>

    <div id="mensagem">‚úÖ Inscri√ß√£o registrada com sucesso! Boa sorte! üçÄ</div>
  </div>

  <script>
    const form = document.getElementById('formulario');
    const horarioInput = document.getElementById('horario');
    const mensagem = document.getElementById('mensagem');

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const nome = form.participante.value.trim();
      const cotasSelecionadas = form.cotas.value;

      if (!nome) {
        alert('Por favor, preencha seu nome.');
        return;
      }
      if (!cotasSelecionadas) {
        alert('Por favor, selecione a quantidade de cotas.');
        return;
      }

      // Preenche hor√°rio atual HH:mm
      const now = new Date();
      const h = now.getHours().toString().padStart(2, '0');
      const m = now.getMinutes().toString().padStart(2, '0');
      horarioInput.value = `${h}:${m}`;

      // Enviar dados via fetch para Apps Script
      const dados = new URLSearchParams(new FormData(form));

      fetch(form.action, {
        method: 'POST',
        body: dados
      })
        .then(response => response.text())
        .then(text => {
          if (text.toLowerCase().includes('sucesso')) {
            mensagem.style.display = 'block';
            form.reset();
            setTimeout(() => {
              mensagem.style.display = 'none';
            }, 6000);
          } else {
            alert('Erro ao registrar inscri√ß√£o, tente novamente mais tarde.');
          }
        })
        .catch(() => {
          alert('Erro ao enviar dados. Verifique sua conex√£o e tente novamente.');
        });
    });
  </script>
</body>

</html>
